# Makefile for Jarsync.
# $Id$

COMPILER = @COMPILER@
CFLAGS = @CFLAGS@

sources = \
  source/org/metastatic/rsync/ChecksumPair.java \
  source/org/metastatic/rsync/Configuration.java \
  source/org/metastatic/rsync/DataBlock.java \
  source/org/metastatic/rsync/Delta.java \
  source/org/metastatic/rsync/Generator.java \
  source/org/metastatic/rsync/MD4.java \
  source/org/metastatic/rsync/Matcher.java \
  source/org/metastatic/rsync/MessageDigest.java \
  source/org/metastatic/rsync/Offsets.java \
  source/org/metastatic/rsync/Rdiff.java \
  source/org/metastatic/rsync/Rebuilder.java \
  source/org/metastatic/rsync/RollingChecksum.java \
  source/org/metastatic/rsync/RsyncConstants.java \
  source/org/metastatic/rsync/TwoKeyMap.java \
  source/org/metastatic/rsync/Util.java \
  source/org/metastatic/rsync/v2/ConsoleClient.java \
  source/org/metastatic/rsync/v2/Logger.java \
  source/org/metastatic/rsync/v2/MultiplexedInputStream.java \
  source/org/metastatic/rsync/v2/MultiplexedOutputStream.java \
  source/org/metastatic/rsync/v2/Rsync.java \
  source/org/metastatic/rsync/v2/SocketClient.java

classes = ../classes/org/metastatic/rsync/ChecksumPair.class \
  ../classes/org/metastatic/rsync/Configuration.class \
  ../classes/org/metastatic/rsync/DataBlock.class \
  ../classes/org/metastatic/rsync/Delta.class \
  ../classes/org/metastatic/rsync/Generator.class \
  ../classes/org/metastatic/rsync/MD4.class \
  ../classes/org/metastatic/rsync/Matcher.class \
  ../classes/org/metastatic/rsync/MessageDigest.class \
  ../classes/org/metastatic/rsync/Offsets.class \
  ../classes/org/metastatic/rsync/Rdiff.class \
  ../classes/org/metastatic/rsync/Rebuilder.class \
  ../classes/org/metastatic/rsync/RollingChecksum.class \
  ../classes/org/metastatic/rsync/RsyncConstants.class \
  ../classes/org/metastatic/rsync/TwoKeyMap.class \
  ../classes/org/metastatic/rsync/Util.class \
  ../classes/org/metastatic/rsync/v2/ConsoleClient.class \
  ../classes/org/metastatic/rsync/v2/Logger.class \
  ../classes/org/metastatic/rsync/v2/MultiplexedInputStream.class \
  ../classes/org/metastatic/rsync/v2/MultiplexedOutputStream.class \
  ../classes/org/metastatic/rsync/v2/Rsync.class \
  ../classes/org/metastatic/rsync/v2/SocketClient.class

all: compile

compile: $(classes)

$(classes): ../classes/%.class: %.java
	$(COMPILER) $(CFLAGS) $<

clean:
	rm -f $(classes) $(inner)
